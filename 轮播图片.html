<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>轮播图片（原创）-jq22.com</title>
<script src="http://libs.baidu.com/jquery/1.4.2/jquery.min.js"></script>
<style>
#xh span {
	display:inline-block;
	width:20px;
	height:20px;
	border:1px solid;
	text-align:center;
	line-height:20px;
	background-color:white;
}
ul {
	list-style:none;
	width:500px;
	height:300px;
	overflow:hidden;
	border:1px solid;
	padding:0px;
}
ul li {
	margin:0px;
}
</style>
</head>
<body>
 <ul id="dtp">
      <li><a href="#"><img src="http://www.jq22.com/img/cs/500x300-1.png"></a></li>
      <li><a href="#"><img src="http://www.jq22.com/img/cs/500x300-2.png"></a></li>
      <li><a href="#"><img src="http://www.jq22.com/img/cs/500x300-3.png"></a></li>
      <li><a href="#"><img src="http://www.jq22.com/img/cs/500x300-4.png"></a></li>
      <li><a href="#"><img src="http://www.jq22.com/img/cs/500x300-5.png"></a></li>
 </ul>	
 <div id="xh">
      <span>1</span>
      <span>2</span>
      <span>3</span>
      <span>4</span>
      <span>5</span>
 </div>

<script>
var num = setInterval("paly()", 3000);

function paly() {
    var index = Math.floor(Math.random() * 5);
    $("ul li").eq(index).show();
    $("ul li").eq(index).siblings().hide();
    $("#xh span:eq(" + index + ")").css("background", "yellow"),
        $("#xh span:eq(" + index + ")").siblings().css("background", "white");
}
$(document).ready(function(e) {
    //
    $("div span").each(function(index, element) {
        $(this).mouseover(function() {
            $(this).css("background-color", "yellow");
            $("ul li").eq(index).show();
            $("ul li").eq(index).siblings().hide(); //遍历前后所有的同辈元素
        }).mouseout(function() {
            $(this).css("background-color", "white");
        });
    });
});
</script>

</body>
</html>
